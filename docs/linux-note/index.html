<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Linux Note</title>
    <link rel="stylesheet" type="text/css" href="./markdownToc_files/github2-rightpart.css" media="all">
    <link rel="stylesheet" type="text/css" href="./markdownToc_files/github1-contents.css">
    <link rel="stylesheet" href="./markdownToc_files/zTreeStyle.css" type="text/css">
    <style>
        .ztree li a.curSelectedNode {
            padding-top: 0px;
            background-color: #FFE6B0;
            color: black;
            height: 16px;
            border: 1px #FFB951 solid;
            opacity: 0.8;
        }
        .ztree{
            overflow: auto;
            height:100%;
            min-height: 200px;
            top: 0px;
        }
    </style>
</head>
<body style="">
    <div>
        <div style="width:30%;">
            <ul id="tree" class="ztree" style="width: 260px; overflow: auto; position: fixed; z-index: 2147483647; border: 0px none; left: 0px; bottom: 0px;">
            </ul>
        </div>
        <div id="readme" style="width:70%;margin-left:25%;">
            <!-- ***********************************************************CUT****************************************************************** --> 
            <article class="markdown-body">

<h1 id="toc_0">虚拟终端</h1>

<ul>
<li>Linux字符界面即虚拟终端。</li>
<li>默认有7个，1~6是字符界面，第7个是图形化用户界面（启动后）。</li>
<li> Ctrl+Alt+F1~F6(图形界面)、Alt+F1~F7（字符界面） </li>
</ul>

<h1 id="toc_1">Shell命令</h1>

<p>Shell可执行的用户命令可分为两大类：内置命令和实用程序；</p>

<p>实用程序又分为：</p>

<ul>
<li>Linux程序、应用程序、 Shell脚本、用户程序</li>
<li>Shell命令提示符</li>
<li>Shell命令格式</li>
</ul>

<table>
<thead>
<tr>
<th style="text-align: right">命令名</th>
<th style="text-align: right">[选项]</th>
<th style="text-align: right">[参数]</th>
<th style="text-align: right">回车</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: right">命令功能</td>
<td style="text-align: right">-字母(小写居多)</td>
<td style="text-align: right">操作对象</td>
<td style="text-align: right">提交命令</td>
</tr>
<tr>
<td style="text-align: right">一般小写</td>
<td style="text-align: right">&ndash;单词</td>
<td style="text-align: right"></td>
<td style="text-align: right"></td>
</tr>
</tbody>
</table>

<p><br></p>

<p><strong>注意</strong>：
* Linux系统严格区分英文字母的大小写
* Shell自动过滤多余的空格 </p>

<h1 id="toc_2">注销、重启与关机</h1>

<h2 id="toc_3">注销</h2>

<p>注销－－退出登录状态。注销一个用户不影响其他登录用户的操作。 </p>

<div><pre><code class="language-bash">$exit
$logout
$Ctrl+D</code></pre></div>

<h2 id="toc_4">重启</h2>

<div><pre><code class="language-bash">$reboot
#shutdown  –r  now</code></pre></div>

<h2 id="toc_5">关机（不是简单地关闭电源 ）</h2>

<div><pre><code class="language-bash">$halt
#shutdown  –h  now
#shutdown  –h  10
The system is going DOWN for system halt in 10 minutes</code></pre></div>

<h1 id="toc_6">管道</h1>

<p>管道将多个命令前后连接起来形成一个管道流。<br>
格式：</p>

<div><pre><code class="language-bash">命令1|命令2|……|命令n  </code></pre></div>

<p>管道流中的每一个命令都作为一个单独的进程运行，前一个命令的输出结果作为后一个命令的输入，从左到右依次执行，最后一条命令的执行结果显示在屏幕上。若要改变输出可用”&gt;”保存到文件。<br>
bash利用“|”符号可实现管道功能。<br>
[例15] 利用管道统计当前目录下的文件和子目录的数目。</p>

<div><pre><code class="language-bash">$ls  |wc  -l</code></pre></div>

<p>思考题：分页显示/etc目录中文件和子目录的详细信息。  </p>

<div><pre><code class="language-bash">$ls  -l  /etc|more</code></pre></div>

<h1 id="toc_7">Linux下文件和目录的颜色的含义</h1>

<ul>
<li>蓝色表示目录</li>
<li>绿色表示可执行文件</li>
<li>红色表示压缩文件</li>
<li>浅蓝色表示链接文件</li>
<li>灰色表示其它文件</li>
<li>红色闪烁表示链接的文件有问题了</li>
<li>黄色是设备文件，包括block, char, fifo。 </li>
</ul>

<h1 id="toc_8">文本编辑器vi</h1>

<p>Vi不是一个排版程序，它不象Word或WPS那样可以对字体、格式、段落等其他属性进行编排，它只是一个文本编辑程序。<br>
Vi没有菜单，只有命令，且命令繁多。 vi的三种工作模式：<br>
1. 命令模式：从键盘输入的任何字符都作为vi二级命令解释，不显示。
2. 文本编辑模式：从键盘输入的任何字符都文本文件内容显示在屏幕。
3. 最后行模式：实际是指屏幕位置，以“:”开始。</p>

<p>启动vi<br>
格式：</p>

<div><pre><code class="language-bash">vi  [文件] </code></pre></div>

<p>界面：编辑区和状态/命令区</p>

<h2 id="toc_9">编辑文件</h2>

<h3 id="toc_10">输入文本（命令模式）</h3>

<ul>
<li>输入i、I、a、A、o、O命令中的任一个进入文本编辑模式，按ESC键回到命令模式。 </li>
<li>i（insert）a（append）o（open）</li>
<li>在文本编辑文本模式:→←↓↑、删除键、DELETE</li>
</ul>

<h3 id="toc_11">编辑文本（命令模式）</h3>

<table>
<thead>
<tr>
<th style="text-align: left"></th>
<th style="text-align: left"></th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: left">dd</td>
<td style="text-align: left">删除当前一整行</td>
</tr>
<tr>
<td style="text-align: left">yy</td>
<td style="text-align: left">复制当前行至缓冲区</td>
</tr>
<tr>
<td style="text-align: left">cc</td>
<td style="text-align: left">剪切当前行至缓冲区(Esc后p)</td>
</tr>
<tr>
<td style="text-align: left">p</td>
<td style="text-align: left">粘贴缓冲区内容</td>
</tr>
</tbody>
</table>

<h3 id="toc_12">查找字符串（命令模式）</h3>

<table>
<thead>
<tr>
<th style="text-align: left"></th>
<th style="text-align: left"></th>
<th style="text-align: left"></th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: left">/字符串</td>
<td style="text-align: left">向下查找指定的字符串</td>
<td style="text-align: left">/abc</td>
</tr>
<tr>
<td style="text-align: left">?字符串</td>
<td style="text-align: left">向上查找指定的字符串</td>
<td style="text-align: left">?abc</td>
</tr>
<tr>
<td style="text-align: left">n   （next）</td>
<td style="text-align: left">继续查找指定的字符串</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: left">N</td>
<td style="text-align: left">反方向继续查找指定的字符串</td>
<td style="text-align: left"></td>
</tr>
</tbody>
</table>

<h3 id="toc_13">撤消与重复（命令模式）</h3>

<table>
<thead>
<tr>
<th style="text-align: left"></th>
<th style="text-align: left"></th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: left">u</td>
<td style="text-align: left">undo撤消编辑</td>
</tr>
<tr>
<td style="text-align: left">.</td>
<td style="text-align: left">重复编辑</td>
</tr>
</tbody>
</table>

<h3 id="toc_14">文本块（多行文本）操作（最后行模式）</h3>

<table>
<thead>
<tr>
<th style="text-align: left"></th>
<th style="text-align: left"></th>
<th style="text-align: left"></th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: left">：set nu</td>
<td style="text-align: left">（number）</td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: left">：set nonu</td>
<td style="text-align: left"></td>
<td style="text-align: left"></td>
</tr>
<tr>
<td style="text-align: left">：n1,n2 m n3</td>
<td style="text-align: left">（move）</td>
<td style="text-align: left">:2,5 m 8</td>
</tr>
<tr>
<td style="text-align: left">：n1,n2 co n3</td>
<td style="text-align: left">（copy）</td>
<td style="text-align: left">:1,4 co 7</td>
</tr>
<tr>
<td style="text-align: left">：n1,n2 d</td>
<td style="text-align: left">（delete）</td>
<td style="text-align: left">:1,4 d</td>
</tr>
<tr>
<td style="text-align: left">：n1,n2 s/字符串1/字符串2/g</td>
<td style="text-align: left">（substitution，global）</td>
<td style="text-align: left">:2,5  s/a/A/g</td>
</tr>
</tbody>
</table>

<h3 id="toc_15">保存文件与退出vi</h3>

<p>在命令模式下连续按两次ZZ键，将保存编辑的内容并退出vi。    </p>

<p>最后行模式下
|||
:&mdash;|:&mdash;|
：w 文件  |    保存为指定的文件。<br>
：q       |               退出vi。 
：q!      |               不保存文件，直接退出vi。 
：wq      |             存盘并退出vi。 </p>

<h1 id="toc_16">图形化用户界面</h1>

<h2 id="toc_17">图形化用户界面的启动方式</h2>

<p>自动启动：安装系统时选择登录类型为「图形化」系统将自动启动图形化用户界面<br>
手工启动：若选择「文本」则出现字符界面。    </p>

<h2 id="toc_18">手工启动图形化用户界面</h2>

<p>可在任何一个虚拟终端手工启动图形化用户界面：输入 “startx”命令；该虚拟终端号即改为7号。<br>
桌面操作完成在关闭图形化用户界面后返回到半部字符界面：     </p>

<ul>
<li>单击「主菜单」—「注销」—「确定」<br></li>
<li>按CTRL+ALT+BACKSPACE<br></li>
</ul>

<p>启动前，用户还设定启动哪种桌面环境：<br>
格式：</p>

<div><pre><code class="language-bash">switchdesk  gnome|kde   </code></pre></div>

<p>功能：将桌面环境切换为GNOME或KDE中任一个。<br>
[例21] 将桌面环境切换为KDE后手工启动。  </p>

<div><pre><code class="language-bash">switchdesk  kde   
startx   </code></pre></div>

<h2 id="toc_19">运行级别</h2>

<p>是指Linux为了适应不同的需求，在启动的时候规定的不同运行模式。  </p>

<ul>
<li>3  完整多用户模式，仅提供字符界面。<br></li>
<li>5 完整多用户模式，自动启动图形化用户界面。<br>
通过修改 <code>/etc/inittab</code> 文件可改变启动时的运行级别。<br>
<code>id：数字：initdefault</code>的行指定启动时的运行级别，改变在下次启动时生效。 </li>
</ul>

<h1 id="toc_20">用户</h1>

<ul>
<li>用户类型<br>

<ul>
<li>超级用户：root拥有计算机系统的最高权限。UID和GID为0。<br></li>
<li>系统用户：自动创建与系统服务相关的用户UID和GID为1~499。<br></li>
<li>普通用户：由超级用户创建，只能操作拥有权限的文件和目录并管理自己启动的进程。 UID和GID从500开始。<br></li>
</ul></li>
</ul>

<p>属性：用户名、口令、 UID 、GID、用户主目录（/home/用户名）、全称、登录Shell </p>

<h2 id="toc_21">与用户相关的文件</h2>

<ul>
<li>用户帐号信息文件<code>/etc/passwd</code>
某<code>/etc/passwd</code>文件内容如下所示：</li>
</ul>

<div><pre><code class="language-none">root:x:0:0:root:/root:/bin/bash
bin:x:1:1:bin:/bin:/sbin/nologin
....
hellen:x:500:500::/home/hellen:/bin/bash</code></pre></div>

<ul>
<li>用户口令信息文件<code>/etc/shadow</code>
某<code>/etc/shadow</code>文件的内容如下所示：<br></li>
</ul>

<div><pre><code class="language-none">root:$1$nOfXUuNU$xljwp/Nb2n6UVDrodytMx0:12599:0:99999:7:::  
bin:*:12599:0:99999:7:::
....
hellen:$$nBA6pODEUVDr67tMUooSx0TYZgyTb63w:12609:0:99999:7:::      </code></pre></div>

<h2 id="toc_22">Shadow文件含义</h2>

<ul>
<li>用户名<br></li>
<li>34位MD5加密口令。<br>

<ul>
<li>“!!”未设置口令不能登陆。<br></li>
<li>“: :”删除口令无口令登陆。<br></li>
</ul></li>
<li>1970.1.1起到上次修改口令的间隔天数。<br></li>
<li>可修改口令的间隔天数。<br></li>
<li>口令的有效期。<br></li>
<li>口令失效提前提醒天数。<br></li>
<li>口令失效的宽容期。<br></li>
<li>1970.1.1起到帐号失效的天数。<br></li>
</ul>

<h2 id="toc_23">组群</h2>

<ul>
<li>组群：将具有相同特性的用户划归到一个组织中。<br>

<ul>
<li>系统组群：安装Linux以及部分服务性程序时，系统自动设置的组群 。<br></li>
<li>私人组群：由超级用户新建的组群 。<br></li>
</ul></li>
<li>属性<br>

<ul>
<li>组群名、GID、组群口令、附加用户列表（用户之间用“,”分隔 ）<br></li>
</ul></li>
</ul>

<h2 id="toc_24">与组群相关的文件</h2>

<ul>
<li>组群帐号信息文件 <code>/etc/group</code><br>
某<code>/etc/group</code>文件的内容如下所示。<br></li>
</ul>

<div><pre><code class="language-none">root:x:0:root  
bin:x:1:root,bin,daemon  
....  
hellen:x:500:  </code></pre></div>

<ul>
<li>组群口令信息文件 <code>/etc/gshadow</code><br>
<code>/etc/gshadow</code>文件跟<code>/etc/shadow</code>文件类似，根据<code>/etc/group</code>文件而产生，主要用于保存加密的组群口令，只有超级用户才能查看<code>/etc/gshadow</code>文件的内容。<br></li>
</ul>

<h2 id="toc_25">桌面环境下管理用户和组群</h2>

<p>桌面环境下依次单击「系统」=&gt; 「管理」=&gt; 「用户和组群」，启动「用户管理者」窗口。   </p>

<ul>
<li>管理用户<br></li>
<li>新建用户<br></li>
<li>修改用户属性<br></li>
<li>删除用户<br></li>
<li>管理组群<br></li>
<li>新建组群<br></li>
<li>修改组群属性<br></li>
<li>删除组群<br></li>
<li>显示所有用户和组群 </li>
</ul>

<h2 id="toc_26">管理用户的Shell命令</h2>

<h3 id="toc_27">passwd</h3>

<p>格式：passwd  [选项]  [用户]<br>
功能：设置或修改用户的口令以及口令（&gt;6，不能过于规律、重复或字典单词）的属性。<br>
主要选项说明：<br>
-d  用户名（delete）、-l  用户名（lock） 、u  用户名（unlock） -S  用户名（status）   </p>

<h3 id="toc_28">usermod</h3>

<p>格式：usermod  [选项]  用户名<br>
功能：修改用户的属性，超级用户命令。<br>
主要选项说明：<br>
-c  全名、-d  主目录、-g  组群ID或组群名、-G  组群ID或组群名、-u  用户ID<br>
-l （login name） 用户名(usermod增加)   </p>

<h3 id="toc_29">userdel</h3>

<p>格式：userdel  [-r]  用户名<br>
功能：删除指定用户帐号，超级用户命令。<br>
选项说明 ：<br>
-r  系统不仅删除此用户帐号，还将用户的主目录也一并删除。<br>
[例6] 删除jerry用户帐号及其主目录。<br>
查看普通用户个人主目录信息  </p>

<div><pre><code class="language-bash">#ls /home  
# userdel  -r jerry  </code></pre></div>

<p>验证结果  </p>

<div><pre><code class="language-bash">#ls /home  </code></pre></div>

<h3 id="toc_30">su</h3>

<p>格式：su  [-]  [用户名]<br>
  功能：在同一个虚拟终端上，切换用户身份。“exit”命令可返回本来的用户身份。<br>
选项说明：-选项 切换为新用户的同时使用新用户的环境变量（工作目录、shell和命令提示符）。  </p>

<h3 id="toc_31">id</h3>

<p>格式：id  [用户名]<br>
功能：查看用户的UID、GID和用户所属组群的信息。如果不指定用户，则显示当前用户的相关信息。  </p>

<h2 id="toc_32">管理组群的Shell命令</h2>

<h3 id="toc_33">groupadd</h3>

<p>格式：groupadd  [选项]  组群名<br>
功能：新建组群，超级用户命令。<br>
主要选项说明：-g  组群ID   指定GID  </p>

<h3 id="toc_34">groupmod</h3>

<p>格式：groupmod   [选项]  组群名<br>
功能：修改指定组群属性，超级用户命令。<br>
主要选项说明：<br>
-g    组群ID                 指定GID<br>
-n  组群名（name）       指定组群名  </p>

<h3 id="toc_35">groupdel</h3>

<p>格式：groupdel  组群名<br>
 功能：删除指定的组群，超级用户命令。<br>
注：在删除指定组群之前必须保证该组群不是任何用户的主要组群，否则需要首先删除那些以此组群作为主要组群的用户才能删除这个组群。  </p>

<h1 id="toc_36">进程管理与系统监视</h1>

<h2 id="toc_37">启动进程与作业</h2>

<ul>
<li>进程与作业的启动方式

<ul>
<li>手工启动：由用户输入Shell命令回车后直接启动的进程。<br>

<ul>
<li>前台启动：用户输入一个Shell命令后按下Enter键就启动了一个前台作业。<br></li>
<li>后台启动：Shell命令的末尾加上“&amp;”符号，再按下Enter键，那么就将启动一个后台作业.<br></li>
</ul></li>
<li>调度启动是系统按用户要求的时间或方式执行特定的进程。Linux中可实现：<br>
at调度、batch调度和cron调度。</li>
</ul></li>
</ul>

<h2 id="toc_38">作业的前后台切换</h2>

<h3 id="toc_39">bg (background)</h3>

<p>格式：bg  [作业号]<br>
功能：将前台作业切换到后台运行。若没有指定作业号，则将当前作业切换到后台。  </p>

<h3 id="toc_40">fg（Foreground）</h3>

<p>格式：fg  [作业号]<br>
功能：将后台作业切换到前台运行。若没有指定作业号，则将后台作业序列中的第一个作业切换到前台运行。  </p>

<h2 id="toc_41">管理进程与作业的Shell命令</h2>

<h3 id="toc_42">jobs</h3>

<p>格式：jobs  [选项]<br>
功能：显示当前所有的作业。<br>
主要选项说明：-p（process）、-l（list）    </p>

<h3 id="toc_43">ps（Process Status）</h3>

<p>格式：ps  [选项]<br>
功能：显示进程的状态。无选项时显示当前用户在当前终端启动的进程。<br>
主要选项说明：<br>
-a（all）、-e、-l（list）、-u（user）、-x、-t    </p>

<h4 id="toc_44">ps输出</h4>

<ul>
<li>S（State）状态列<br>

<ul>
<li>R（Running）运行<br></li>
<li>S （Sleep）休眠<br></li>
<li>T （Stopped或Traced）终止或暂停<br></li>
<li>Z （Zombie）僵死<br></li>
<li>X（dead）<br></li>
<li>……<br></li>
</ul></li>
<li>UID（User ID）<br></li>
<li>PID（Process ID）<br></li>
<li>PPID（Parents Process ID）<br></li>
<li>NI（Nice）<br></li>
<li>TTY（Terminal）<br></li>
<li>CMD（Command）<br></li>
<li>SZ（Size）占用内存以KB为单位<br></li>
<li>TIME已运行时间<br></li>
</ul>

<h3 id="toc_45">kill</h3>

<p>格式1：kill  [选项]  进程号<br>
格式2：kill  %  作业号<br>
功能：终止正在运行的进程或作业。超级用户可终止所有的进程，普通用户只能终止自己启动的进程。<br>
主要选项说明：- 9    强行终止指定进程。<br>
终止正在运行中进程Ctrl+C   </p>

<h3 id="toc_46">进程的优先级</h3>

<ul>
<li>Linux中所有的进程根据其所处状态，按照时间顺序排列形成不同的队列。系统按一定的策略进行调度执行队列中的进程。<br></li>
<li>若用户因为某种原因希望尽快完成某个进程的运行，可通过修改进程的优先级来改变其在队列中的排列顺序，从而尽快得以运行。<br></li>
<li>启动进程的用户或超级用户可以修改进程的优先级，但普通用户只能调低优先级，而超级用户既可以调低优先级也可以调高优先级。<br></li>
<li>Linux中进程优先级的取值范围为-20~19之间的整数，取值越低，优先级越高，默认为0。<br></li>
</ul>

<h3 id="toc_47">nice</h3>

<p>格式：nice  [-优先级值]  命令<br>
功能：指定将启动的进程的优先级。不指定优先级值时，将优先级设置为10。   </p>

<h3 id="toc_48">renice</h3>

<p>格式：renice  优先级值  参数<br>
功能：修改运行中的进程的优先级，设定指定用户或组群的进程优先级。<br>
主要参数说明：-p  进程号、-u  用户名、-g  组群号    </p>

<h2 id="toc_49">进程调度</h2>

<p>Linux允许用户根据需要在指定的时间自动运行指定的进程，也允许用户将非常消耗资源和时间的进程安排到系统比较空闲的时间来执行。<br>
- 对于偶尔运行的进程采用at或batch调度。<br>
- 对于特定时间重复运行的进程采用cron调度。   </p>

<h3 id="toc_50">at调度</h3>

<p>格式：at  [选项]  时间<br>
功能：设置指定时间执行的指定的命令。<br>
主要选项说明：<br>
–f  文件名（file）、-l（list）、-d（delete）<br>
时间表示：绝对（HH:MM，AM/PM）、相对（now+时间间隔，单位minutes,hours,day,week）、直接计时法（today,tomorrow,midnight,noon,teatime[4点]）<br>
[例8] 在3分钟后向登录在系统上的所有用户发送“Good”信息。  </p>

<div><pre><code class="language-bash">$at now+mintues  
at&gt;who  
at&gt;wall Good  
Ctrl+D  </code></pre></div>

<p>注：who执行结果送入邮箱，用mail查看。  </p>

<h3 id="toc_51">batch调度</h3>

<p>格式：batch  [选项]  [时间]<br>
功能：与at命令几乎相同一样，唯一的区别是如果不指定运行时间，进程将在系统较空闲时运行。batch调度适合于时间上要求不高，但运行时占用系统资源较多的工作。batch命令  的选项与at命令相同。</p>

<h3 id="toc_52">cron</h3>

<p>at调度和batch调度中指定的命令只能执行一次。<br>
但在实际的系统管理中有些命令需要在指定的日期和时间重复执行，例如每天例行要做的数据备份。cron调度正可以满足这种需求。<br>
cron调度与crond进程、crontab命令和crontab配置文件有关。  </p>

<h4 id="toc_53">crontab配置文件</h4>

<ul>
<li><p>保存cron调度的内容，共6个字段，从左到右依次为：  </p>

<table>
<thead>
<tr>
<th style="text-align: left">分钟</th>
<th style="text-align: left">小时</th>
<th style="text-align: left">日期</th>
<th style="text-align: left">月份</th>
<th style="text-align: left">星期</th>
<th style="text-align: left">命令</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: left">0-59</td>
<td style="text-align: left">0-23</td>
<td style="text-align: left">01-31</td>
<td style="text-align: left">01-12</td>
<td style="text-align: left">0-6</td>
<td style="text-align: left">合法shell命令</td>
</tr>
</tbody>
</table>

<p>注：所有字段不能为空，若不指定内容则用“*”填空；字段之间用空格分开；可以用“-”表示一段时间，如1-5；也可使用“,”作时间分割，如5,15,25.  </p></li>
<li><p>如果执行的命令未使用输出重定向，那么系统将会把执行结果以邮件的方式发送给crontab文件的所有者。  </p></li>
<li><p>用户的crontab配置文件保存于/var/spool/cron目录中，其文件名与用户名相同。  </p></li>
</ul>

<h4 id="toc_54">crontab</h4>

<p>格式：crontab  [选项]<br>
功能：维护用户的crontab配置文件。<br>
主要选项说明：<br>
-e（edit）、-l（list）、-r（erase）<br>
[例9]xufqin用户创建一个新的crontab配置文件。  </p>

<div><pre><code class="language-bash">$ crontab –e   </code></pre></div>

<p>系统自动将xufqin（与用户同名）文件挂载到/var/spool/cron下  </p>

<h4 id="toc_55">crond进程</h4>

<p>crond进程在系统启动时自动启动，并一直运行于后台。<br>
crond进程负责检测crontab配置文件，并按照其设置内容，定期重复执行指定的cron调度工作。   </p>

<p>[例10] xufqin用户设置cron调度，要求每周五的17点00分将/home/hellen/data目录中的所有文件归档并压缩为/backup目录中的hellen-data.tar.gz文件。  </p>

<p><img src="markdownToc_files/img/crond-1.png" alt=""></p>

<p>输入“crontab  -e”命令后，启动vi文本编辑器，用户输入以下配置内容后保存退出。</p>

<p><img src="markdownToc_files/img/crond-2.png" alt=""></p>

<h4 id="toc_56">查看crontab结果</h4>

<ul>
<li>查看crontab</li>
</ul>

<div><pre><code class="language-bash">$ crontab –l   或
$ cat /var/spool/cron/xufqin </code></pre></div>

<ul>
<li>查看crontab执行结果</li>
</ul>

<div><pre><code class="language-bash">$ mail
$ cat 文件名（若输出重定向）
$ man mail</code></pre></div>

<h2 id="toc_57">系统监视</h2>

<h3 id="toc_58">桌面环境下监视系统</h3>

<p>「主菜单」=&gt;「系统工具」=&gt;「系统监视器」<br>
可实现对CPU、硬盘、内存和交换分区的实时监视 </p>

<h3 id="toc_59">实施系统监视的Shell命令</h3>

<h4 id="toc_60">who</h4>

<p>格式：who  [选项]<br>
功能：查看当前已登录的所有用户。<br>
主要选项说明：-m、-H（heading）  </p>

<h4 id="toc_61">top</h4>

<p>格式：top  [-d  秒数]<br>
功能：动态显示CPU利用率、内存利用率和进程状态等相关信息，是目前使用最广泛的实时系统性能监视程序。默认每5秒钟更新显示信息，而“-d  秒数”选项可指定刷新频率。  </p>

<h4 id="toc_62">free</h4>

<p>格式：free  [选项]<br>
功能：显示内存和交换分区的相关信息。<br>
主要选项说明：-m、-t（total）、-s  秒数  </p>

<h2 id="toc_63">系统日志管理</h2>

<ul>
<li>系统日志记录着系统运行的详细信息。<br></li>
<li>系统日志文件都保存于/var/log目录中：<br>

<ul>
<li>boot.log、cron、dmesg、maillog、spooler、rpmpkgs、secure、messages、XFree86.0.log<br></li>
</ul></li>
<li>直接查看/var/log目录中日志文件的内容<br></li>
<li>「主菜单」=&gt;「系统工具」=&gt;「系统日志」<br></li>
</ul>

<h1 id="toc_64">命令</h1>

<h2 id="toc_65">date</h2>

<p>格式：date   [MMDDhhmm[YYYY]]<br>
功能：查看或修改系统时间。</p>

<h2 id="toc_66">cal</h2>

<p>cal命令（calendar）<br>
格式：cal   [YYYY]<br>
功能：显示日历。</p>

<h2 id="toc_67">pwd</h2>

<p>格式：pwd<br>
功能：显示当前目录的绝对路径。</p>

<p><strong>注：</strong>
* 绝对路径是指从根目录（/）开始到当前目录（文件）的路径；例，/home/xufqin
* 相对路径是指从当前目录到其下子目录（文件）的路径。例， home/xufqin，xufqin
* 目录之间的层次关系总是用“/”来表示。
* 行首的“/”表示根目录，即该路径为绝对路径。</p>

<h2 id="toc_68">cd</h2>

<p>格式：cd   [目录]<br>
功能：切换到指定目录。</p>

<p><strong>注：</strong><br>
* 超级用户的个人用户主目录是/root；
* 普通用户的个人用户主目录是/home下与该用户同名的子目录，如普通用户hellen主目录默认是/home/hellen。 </p>

<h2 id="toc_69">ls</h2>

<p>格式：ls  [选项]  [文件|目录]<br>
功能：显示指定目录中的文件和子目录信息。<br>
主要选项说明：<br>
-a（all）、-l（long）、-d（directory）、-t（time）<br>
-R（recursive）…</p>

<h2 id="toc_70">cat</h2>

<p>格式：cat  [选项]  文件列表<br>
功能：显示文本文件的内容。<br>
主要选项说明:<br>
*         -n（number）在每一行前显示行号</p>

<h2 id="toc_71">more</h2>

<p>格式：more  文件<br>
功能：分屏显示文本文件的内容。  </p>

<p><strong>注：</strong><br>
按Enter键显示下一行内容；按空格键显示下一屏的内容：按q键，则退出more命令。<br>
less 命令和more命令唯一的不同是more命令只能向后翻页，而less命令可以向前向后翻页。</p>

<h2 id="toc_72">tail</h2>

<p>格式：tail  [选项]  文件<br>
功能：显示文本文件的结尾部分，默认显示文件的最后10行。<br>
主要选项说明：<br>
-n  数字（number）指定显示的行数  </p>

<h2 id="toc_73">mam</h2>

<p>格式：man  命令名<br>
功能：显示指定命令的手册页帮助信息。</p>

<p><strong>注：</strong><br>
屏幕显示出该命令在Shell手册页的第一屏帮助信息，用户可使用上下方向键、PgDn、PgUp键前后翻阅帮助信息，按q键则退出man命令。</p>

<h2 id="toc_74">&ndash;help选项</h2>

<p>格式：命令名  &ndash;help<br>
功能：显示指定命令的帮助信息。<br>
使用&ndash;help选项也可获取命令的的帮助信息，但不是所有的命令都有此选项。help选项提供的帮助信息多为中文。</p>

<h2 id="toc_75">wc</h2>

<p>格式：wc  [选项]  文件<br>
功能：显示文本文件的行数、字数和字符数。<br>
主要选项说明：-c（character）、-l（line）<br>
                            -w（word），默认=clw</p>

<h2 id="toc_76">Shell命令的通配符</h2>

<ol>
<li>通配符“<em>”<br>
通配符“</em>”代表任意长度的任何字符。<br></li>
<li>通配符“?”<br>
通配符“?”代表任何一个字符。<br></li>
<li>字符组通配符“[ ]”、“-” 和“！”<br>
“[ ]”表示指定的一个字符范围，而“[ ]”内的任意一个字符都用于匹配。如“[abcde]<em>”<br>
“-”在“[ ]”内表示连接符。“[a-e]</em>” 
“！”表示不在该范围之内的其他字符。如“[!Ds]*”<br></li>
<li>“*”不能匹配“.”打头的隐藏文件<br></li>
<li>“*”、“?” 只在[ ]外起特殊作用，“！”、“-”只在[ ]内起特殊作用。</li>
</ol>

<h2 id="toc_77">输入输出重定向（输出）</h2>

<p>Linux的标准输入是指键盘，标准输出和标准错误输出均是屏幕。    </p>

<ol>
<li>输出重定向－－命令执行的结果将不在标准输出（屏幕）上显示，而是保存到某一指定文件的操作。Bash通过符号“&gt;”来实现输出重定向功能。</li>
<li>附加输出重定向
功能与输出重定向基本相同，不同的之处在于：附加输出重定向将输出内容添加在原来文件已有内容的后面，而不会覆盖其内容。Bash通过符号“&gt;&gt;”来实现。</li>
</ol>

<h2 id="toc_78">创建和合并文本文件</h2>

<ol>
<li>创建<br>
格式：cat  &gt;  文本文件名<br>
举例：cat  &gt;  f2<br>
输入完，按回车键到下一行，再按Ctrl＋D结束。</li>
<li>合并<br>
格式：cat   文本文件列表  &gt;  文本文件名<br>
将“文本文件列表 ”中所有文件内容合并到“文本文件名”所指的文件中。<br>
举例：cat  f1  f2  &gt;  f3<br></li>
</ol>

<h2 id="toc_79">输入输出重定向（错误）</h2>

<h3 id="toc_80">输出重定向</h3>

<p>Shell中标准输出与错误输出是两个独立的操作。<br>
程序的执行结果显示在屏幕上，而错误信息重定向到指定文件，使用“2&gt;”符号。<br>
程序的执行结果和错误信息都重定向到同一文件，使用“&amp;&gt;”符号。  </p>

<p>[例14] 查看/temp目录的文件和子目录信息，如果有错误信息，则保存到err文件。 </p>

<div><pre><code class="language-bash">$ls /temp  
$ls /temp&gt;err</code></pre></div>

<h3 id="toc_81">输入重定向</h3>

<p>不从标准输入（键盘）读入数据，而是从文件读入数据，用“&lt;”符号来实现。<br>
因为大多数的命令都以参数的形式在命令行上指定输入文件，所以输入重定向并不常使用。<br>
但是少数命令（如newusers命令）不接受文件名作为参数，必须使用输入重定向。<br>
“cat &lt; f1”命令的输出结果与“cat f1”命令完全相同。<br>
示例</p>

<div><pre><code class="language-bash"># newusers &lt; stu.txt</code></pre></div>

<h2 id="toc_82">history</h2>

<p>每个用户在自己的主目录下都有一个名为.bash_history的隐藏文件，保存（退出登入时）曾执行过的Shell命令。Bash默认最多保存1000。
用上下键，PgUp或PgDown键查找，按Enter再次执行或命令行进行编辑、修改后再执行。   </p>

<ol>
<li>格式：</li>
</ol>

<div><pre><code class="language-bash">history  [数字] </code></pre></div>

<p>功能：查看Shell命令的历史记录。<br>
[例16] 查看最近执行过的5个Shell命令。</p>

<div><pre><code class="language-bash">$ history  5 </code></pre></div>

<ol>
<li>格式：</li>
</ol>

<div><pre><code class="language-bash">!序号</code></pre></div>

<p>功能：执行指定序号的Shell命令。“!!”可以执行刚执行过的命令。<br>
[例17] 执行序号为5的Shell命令。
<code>bash
$ !5 
</code>
思考题：再一次将序号为5的Shell命令<br>
<code>bash
$!!
</code></p>

<h2 id="toc_83">别名</h2>

<p>别名是按照Shell命令的标准格式所写的命令行的缩写<br>
格式：</p>

<div><pre><code class="language-bash">alias  [别名=’标准Shell命令行’]</code></pre></div>

<p>功能：查看和设置别名。<br>
[例18] 查看当前用户可使用的别名命令。<br>
<code>bash
alias
</code></p>

<p>[例19] 设置别名命令tab，其功能是查看/etc/fstab文件内容。   </p>

<div><pre><code class="language-bash">alias  tab=‘cat  /etc/fstab’</code></pre></div>

<p>思考题1：一个别名可以代替二条命令吗？  </p>

<div><pre><code class="language-bash">alias u=‘mount /dev/sdb1 /mnt/usb ＆ cd /mnt/usb’</code></pre></div>

<p>思考题2：若别名同标准shell命令（pwd）同名怎么办？<br>
设置别名pwd ，其功能是统计/etc/fstab文件的行数。  </p>

<div><pre><code class="language-bash">alias  pwd=‘wc -l  /etc/fstab’</code></pre></div>

<p>别名命令的优先级高于标准shell命令<br>
标准shell命令的执行需在shell命令前加”\”。\pwd</p>



<script type="text/javascript">
var _self="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},Prism=function(){var e=/\blang(?:uage)?-(\w+)\b/i,t=0,n=_self.Prism={util:{encode:function(e){return e instanceof a?new a(e.type,n.util.encode(e.content),e.alias):"Array"===n.util.type(e)?e.map(n.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++t}),e.__id},clone:function(e){var t=n.util.type(e);switch(t){case"Object":var a={};for(var r in e)e.hasOwnProperty(r)&&(a[r]=n.util.clone(e[r]));return a;case"Array":return e.map&&e.map(function(e){return n.util.clone(e)})}return e}},languages:{extend:function(e,t){var a=n.util.clone(n.languages[e]);for(var r in t)a[r]=t[r];return a},insertBefore:function(e,t,a,r){r=r||n.languages;var l=r[e];if(2==arguments.length){a=arguments[1];for(var i in a)a.hasOwnProperty(i)&&(l[i]=a[i]);return l}var o={};for(var s in l)if(l.hasOwnProperty(s)){if(s==t)for(var i in a)a.hasOwnProperty(i)&&(o[i]=a[i]);o[s]=l[s]}return n.languages.DFS(n.languages,function(t,n){n===r[e]&&t!=e&&(this[t]=o)}),r[e]=o},DFS:function(e,t,a,r){r=r||{};for(var l in e)e.hasOwnProperty(l)&&(t.call(e,l,e[l],a||l),"Object"!==n.util.type(e[l])||r[n.util.objId(e[l])]?"Array"!==n.util.type(e[l])||r[n.util.objId(e[l])]||(r[n.util.objId(e[l])]=!0,n.languages.DFS(e[l],t,l,r)):(r[n.util.objId(e[l])]=!0,n.languages.DFS(e[l],t,null,r)))}},plugins:{},highlightAll:function(e,t){var a={callback:t,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};n.hooks.run("before-highlightall",a);for(var r,l=a.elements||document.querySelectorAll(a.selector),i=0;r=l[i++];)n.highlightElement(r,e===!0,a.callback)},highlightElement:function(t,a,r){for(var l,i,o=t;o&&!e.test(o.className);)o=o.parentNode;o&&(l=(o.className.match(e)||[,""])[1],i=n.languages[l]),t.className=t.className.replace(e,"").replace(/\s+/g," ")+" language-"+l,o=t.parentNode,/pre/i.test(o.nodeName)&&(o.className=o.className.replace(e,"").replace(/\s+/g," ")+" language-"+l);var s=t.textContent,u={element:t,language:l,grammar:i,code:s};if(!s||!i)return n.hooks.run("complete",u),void 0;if(n.hooks.run("before-highlight",u),a&&_self.Worker){var c=new Worker(n.filename);c.onmessage=function(e){u.highlightedCode=e.data,n.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,r&&r.call(u.element),n.hooks.run("after-highlight",u),n.hooks.run("complete",u)},c.postMessage(JSON.stringify({language:u.language,code:u.code,immediateClose:!0}))}else u.highlightedCode=n.highlight(u.code,u.grammar,u.language),n.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,r&&r.call(t),n.hooks.run("after-highlight",u),n.hooks.run("complete",u)},highlight:function(e,t,r){var l=n.tokenize(e,t);return a.stringify(n.util.encode(l),r)},tokenize:function(e,t){var a=n.Token,r=[e],l=t.rest;if(l){for(var i in l)t[i]=l[i];delete t.rest}e:for(var i in t)if(t.hasOwnProperty(i)&&t[i]){var o=t[i];o="Array"===n.util.type(o)?o:[o];for(var s=0;s<o.length;++s){var u=o[s],c=u.inside,g=!!u.lookbehind,h=!!u.greedy,f=0,d=u.alias;u=u.pattern||u;for(var p=0;p<r.length;p++){var m=r[p];if(r.length>e.length)break e;if(!(m instanceof a)){u.lastIndex=0;var y=u.exec(m),v=1;if(!y&&h&&p!=r.length-1){var b=r[p+1].matchedStr||r[p+1],k=m+b;if(p<r.length-2&&(k+=r[p+2].matchedStr||r[p+2]),u.lastIndex=0,y=u.exec(k),!y)continue;var w=y.index+(g?y[1].length:0);if(w>=m.length)continue;var _=y.index+y[0].length,P=m.length+b.length;if(v=3,P>=_){if(r[p+1].greedy)continue;v=2,k=k.slice(0,P)}m=k}if(y){g&&(f=y[1].length);var w=y.index+f,y=y[0].slice(f),_=w+y.length,S=m.slice(0,w),O=m.slice(_),j=[p,v];S&&j.push(S);var A=new a(i,c?n.tokenize(y,c):y,d,y,h);j.push(A),O&&j.push(O),Array.prototype.splice.apply(r,j)}}}}}return r},hooks:{all:{},add:function(e,t){var a=n.hooks.all;a[e]=a[e]||[],a[e].push(t)},run:function(e,t){var a=n.hooks.all[e];if(a&&a.length)for(var r,l=0;r=a[l++];)r(t)}}},a=n.Token=function(e,t,n,a,r){this.type=e,this.content=t,this.alias=n,this.matchedStr=a||null,this.greedy=!!r};if(a.stringify=function(e,t,r){if("string"==typeof e)return e;if("Array"===n.util.type(e))return e.map(function(n){return a.stringify(n,t,e)}).join("");var l={type:e.type,content:a.stringify(e.content,t,r),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:r};if("comment"==l.type&&(l.attributes.spellcheck="true"),e.alias){var i="Array"===n.util.type(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(l.classes,i)}n.hooks.run("wrap",l);var o="";for(var s in l.attributes)o+=(o?" ":"")+s+'="'+(l.attributes[s]||"")+'"';return"<"+l.tag+' class="'+l.classes.join(" ")+'" '+o+">"+l.content+"</"+l.tag+">"},!_self.document)return _self.addEventListener?(_self.addEventListener("message",function(e){var t=JSON.parse(e.data),a=t.language,r=t.code,l=t.immediateClose;_self.postMessage(n.highlight(r,n.languages[a],a)),l&&_self.close()},!1),_self.Prism):_self.Prism;var r=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return r&&(n.filename=r.src,document.addEventListener&&!r.hasAttribute("data-manual")&&document.addEventListener("DOMContentLoaded",n.highlightAll)),_self.Prism}();"undefined"!=typeof module&&module.exports&&(module.exports=Prism),"undefined"!=typeof global&&(global.Prism=Prism);
</script>

<script type="text/javascript">
!function(e){var t={variable:[{pattern:/\$?\(\([\w\W]+?\)\)/,inside:{variable:[{pattern:/(^\$\(\([\w\W]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b-?(?:0x[\dA-Fa-f]+|\d*\.?\d+(?:[Ee]-?\d+)?)\b/,operator:/--?|-=|\+\+?|\+=|!=?|~|\*\*?|\*=|\/=?|%=?|<<=?|>>=?|<=?|>=?|==?|&&?|&=|\^=?|\|\|?|\|=|\?|:/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\([^)]+\)|`[^`]+`/,inside:{variable:/^\$\(|^`|\)$|`$/}},/\$(?:[a-z0-9_#\?\*!@]+|\{[^}]+\})/i]};e.languages.bash={shebang:{pattern:/^#!\s*\/bin\/bash|^#!\s*\/bin\/sh/,alias:"important"},comment:{pattern:/(^|[^"{\\])#.*/,lookbehind:!0},string:[{pattern:/((?:^|[^<])<<\s*)(?:"|')?(\w+?)(?:"|')?\s*\r?\n(?:[\s\S])*?\r?\n\2/g,lookbehind:!0,inside:t},{pattern:/(["'])(?:\\\\|\\?[^\\])*?\1/g,inside:t}],variable:t.variable,"function":{pattern:/(^|\s|;|\||&)(?:alias|apropos|apt-get|aptitude|aspell|awk|basename|bash|bc|bg|builtin|bzip2|cal|cat|cd|cfdisk|chgrp|chmod|chown|chroot|chkconfig|cksum|clear|cmp|comm|command|cp|cron|crontab|csplit|cut|date|dc|dd|ddrescue|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|du|egrep|eject|enable|env|ethtool|eval|exec|expand|expect|export|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|getopts|git|grep|groupadd|groupdel|groupmod|groups|gzip|hash|head|help|hg|history|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|jobs|join|kill|killall|less|link|ln|locate|logname|logout|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|make|man|mkdir|mkfifo|mkisofs|mknod|more|most|mount|mtools|mtr|mv|mmv|nano|netstat|nice|nl|nohup|notify-send|nslookup|open|op|passwd|paste|pathchk|ping|pkill|popd|pr|printcap|printenv|printf|ps|pushd|pv|pwd|quota|quotacheck|quotactl|ram|rar|rcp|read|readarray|readonly|reboot|rename|renice|remsync|rev|rm|rmdir|rsync|screen|scp|sdiff|sed|seq|service|sftp|shift|shopt|shutdown|sleep|slocate|sort|source|split|ssh|stat|strace|su|sudo|sum|suspend|sync|tail|tar|tee|test|time|timeout|times|touch|top|traceroute|trap|tr|tsort|tty|type|ulimit|umask|umount|unalias|uname|unexpand|uniq|units|unrar|unshar|uptime|useradd|userdel|usermod|users|uuencode|uudecode|v|vdir|vi|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yes|zip)(?=$|\s|;|\||&)/,lookbehind:!0},keyword:{pattern:/(^|\s|;|\||&)(?:let|:|\.|if|then|else|elif|fi|for|break|continue|while|in|case|function|select|do|done|until|echo|exit|return|set|declare)(?=$|\s|;|\||&)/,lookbehind:!0},"boolean":{pattern:/(^|\s|;|\||&)(?:true|false)(?=$|\s|;|\||&)/,lookbehind:!0},operator:/&&?|\|\|?|==?|!=?|<<<?|>>|<=?|>=?|=~/,punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];]/};var a=t.variable[1].inside;a["function"]=e.languages.bash["function"],a.keyword=e.languages.bash.keyword,a.boolean=e.languages.bash.boolean,a.operator=e.languages.bash.operator,a.punctuation=e.languages.bash.punctuation}(Prism);
</script>


</article>
            <!-- ***********************************************************CUT***************************************************************** -->
        </div>
    </div>
    <script src="./markdownToc_files/jquery-1.10.2.min.js"></script>
    <script src="./markdownToc_files/jquery.ztree.all-3.5.min.js"></script>
    <script src="./markdownToc_files/jquery.ztree_toc.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function(){
            $('#tree').ztree_toc({
                is_auto_number:true,
                documment_selector:'.markdown-body',
                is_expand_all: true
            });
        });
    </script>
</body>
</html>